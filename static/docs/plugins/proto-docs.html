<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="content-TYPE" content="text/html; charset=utf-8">
    <title>proto-docs.html</title>

    <meta title="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="../../dist/css/base.css" rel="stylesheet" type="text/css"/>
</head>

<body lang="en-US">
<div class="container">
    <div class="card">
        <div class="card-body">

            <h1>Proto Plugin Documentation </h1>
            <h2 class="text-muted">About the Proto Plugin</h2>
            <p>The proto plugin is designed as a starting point for creating new plugins for SIP. It does not perform
                any useful
                action but contains the basic components necessary for a functioning plugin.</p>
            <p>The plugin includes the following files:</p>
            <ul>
                <li>

                    <strong>proto.py</strong>
                    <br>The python program that does the actual work of the plugin. Location:
                    <strong>SIP/plugins</strong>

                <li>

                    <strong>proto.html</strong>
                    <br>a web.py template that provides a user interface for the plugin. It includes both Python
                    code and web page markup. Location:
                    <strong>SIP/templates</strong>

                <li>

                    <strong>proto-docs.html</strong>
                    <br>This file. Provides documentation for the plugin including any special hardware needed and
                    set up
                    instructions. Location:
                    <strong>SIP/static/docs/plugins</strong>

                <li>
                    <strong>proto.manifest</strong>
                    <br>a simple text file containing a list of each of the plugin&rsquo;s files with the path to it&rsquo;s
                    location. The manifest is used by the plugin manager to install and uninstall the plugin. The
                    file can also
                    contain information about the plugin such as author, brief description, requirements, etc.
                    Location:
                    <strong>SIP/plugins/manifest</strong>
                </li>
                <li>

                    <strong>proto.json</strong>
                    <br>an optional file used for persistant storage of plugin settings. It is created by the plugin the
                    first
                    time it is run and is not installed with the other files. This allows for software updates without
                    overwriting existing settings. Location:
                    <strong>SIP/data</strong>
                </li>
            </ul>

            <h2><a title="using-the-proto-plugin"></a>Using the
                proto plugin</h2>
            <p>This plugin is disabled by default. If you are reading this, the proto plugin is probably enabled on your
                system.
                Otherwise you can enable it using the plugin manager or by setting the group permissions of the
                <strong>proto.py</strong> file to
                <strong>executable</strong>. Once it is enabled, and the SIP program has been restarted, You can verify
                it is
                working by selecting it from the PLUGINS drop down menu of the main program&rsquo;s web interface. You
                should be
                taken to the plugin&rsquo;s Settings page.</p>
            <p>To begin creating a new plugin from proto you will need to copy/retitle="" each of the proto files you
                will be using
                in
                your project. For example, on the command line, you can make a copy of the proto.py file with a new
                title="" :</p>
            <pre style="margin-bottom: 0.2in"><code>sudo cp SIP/plugins/proto.py SIP/plugins/your-new-title="" .py</code></pre>
            <p></p> Follow a similar procedure for the other files you will include in your project.</p>
            <p>The next step is to open your new Python file and edit the items in the following list. See comments in
                the file for
                more information.</p>
            <p>Edit these items:</p>
            <ul>
                <li>
                    <p>URLs for plugin pages</p>
                <li>
                    <p>Name of plugin to be shown on plugins menu</p>
                <li>
                    <p>Name of .json file for storing settings (optional)</p>
            </ul>
            <p>after you make the changes and save the file, check that the group permission of the file is
                exicutable.</p>
            <pre style="margin-bottom: 0.2in"><code
            >sudo ls -l SIP/plugins/your-new-title="" .py</code></pre>
            <p></p> The first column of the line for your plugin should look something like
            <code>-rw-r-xr-- 1</code>. The x preceding the third r is what counts.
            <p>If you need to change the setting you can use the plugin manager or the command:</p>
            <pre style="margin-bottom: 0.2in"><code
            >sudo chmod g+x SIP/plugins/your-new-title="" .py</code></pre>
            <p></p> to enable the plugin or:</p>
            <pre style="margin-bottom: 0.2in"><code
            >sudo chmod g-x SIP/plugins/your-new-title="" .py</code></pre>
            <p></p> to disable it without affecting any other permissions.</p>
            <p>Restart the SIP program and you should be able to access your new plugin from the menu. If you entered a
                new title=""
                for
                the
                <strong>proto.json</strong> file it should appear in the
                <strong>SIP/data</strong> directory after you access your plugin for the first time.</p>
            <p>If there is an error when you try to access your plugin, start the SIP program manually.
                <br>In the
                <strong>SIP directory</strong> issue the following command:</p>
            <pre><code>sudo python sip.py</code></pre>
            You will now be able to see messages from the program that can help you figure out what went
            wrong.
            <p>For the most up-to-date and detailed information about writing plugins see the
                <a href="https://github.com/Dan-in-Ca/SIP_plugins/wiki">plugins wiki</a>.</p>

        </div>
    </div>
</div>
</body>

</html>
