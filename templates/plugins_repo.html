$def with(listAll)

$var title: $_(u'SIP Plugin Browser')
$var page: plugins_repo
$var header: $_(u'Available Plugins')

<div id="plugin_repo">


    <p>$_(u'Unless otherwise stated these plugins are licensed under GPL 3.0')</p>

    <form id="installForm" class="container" action="${app_path('/inst-plugins')}" method="get">

            $ pnames = list(listAll['list'].keys())
            $pnames.sort()
            $for n in pnames:


            <div class="row mb-4">
                <div class="form-group col-12 col-md-4">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="${n}"  name="${n}"  ${"disabled" if n+'.py' in listAll['settings'].keys() else ""} >
                        <label class="custom-control-label font-weight-bold" for="${n}">${n}</label>
                        $if n+'.py' in listAll['settings'].keys():
                            <div class="small text-success">$_(u'Is installed')</div>

                    </div>
                </div>
                <div class="form-group col">
                    <div  class="form-text text-muted small">${listAll['list'][n]}</div>
                </div>
            </div>


        <div class="mt-5">
            $if len(pnames) > 0:
                <button id="cSubmit" class="btn btn-primary">$_(u'Install')</button>

            <a class="btn btn-secondary" href="${app_path(u'/plugins')}">$_(u'Back')</a>
            <a class="btn btn-secondary" href="${app_path(u'/')}">$_(u'Cancel')</a>
        </div>
    </form>
</div>
